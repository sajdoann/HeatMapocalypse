<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>HeatMapocalypse</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/topojson.v3.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/routie/0.3.2/routie.min.js"></script>

    <link rel="stylesheet" type="text/css" href="world_map/style-worldmap.css">
    <script src="world_map/world_map.js"></script>

</head>

<body>
<div id="content"></div>

<script>
    function clearContent() {
        // Clear the contents of the target element where you want to render the pages
        var targetElement = document.getElementById('content');
        targetElement.innerHTML = '';
    }

    function loadHTML(filename) {
        // Load the HTML content dynamically
        var xhr = new XMLHttpRequest();
        xhr.open('GET', filename, false);
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                var targetElement = document.getElementById('content');
                targetElement.innerHTML = xhr.responseText;
            }
        };
        xhr.send();
    }

    function loadCSS(filename) {
        // Load the CSS file dynamically
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = filename;
        document.head.appendChild(link);
    }

    function loadJS(filename) {
        // Load the JavaScript file dynamically
        var script = document.createElement('script');
        script.src = filename;
        document.head.appendChild(script);
    }

    function renderMainPage() {
        // Clear the existing content
        clearContent();


        // Load the HTML content
        loadHTML('world_map/world_map.html');

        // Load the CSS styles
        loadCSS('world_map/style-worldmap.css');

        // Load the JavaScript files
        loadJS('world_map/world_map.js');
    }

    /*function renderCountryPage(countryName) {
        var content = d3.select("#content");

        // Render the country page content
        content.html("<h1>" + countryName + " Page</h1>");
    }*/

    routie({
        '': function() {
            renderMainPage();
        },
        /*'country/:name': function(name) {
            renderCountryPage(name);
        }*/
    });
</script>

</body>
</html>
